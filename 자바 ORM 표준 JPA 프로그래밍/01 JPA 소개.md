## 01 JPA 소개

### JPA 소개

<small style="color: grey;">JPA의 등장</small>

현대 애플리케이션 개발은 **객체 지향 모델링과 관계형 데이터베이스의 조합**이다. 하지만 객체 지향 모델링과 관계형 데이터베이스의 패러다임은 서로 다르다. 개발자는 서로 다른 패러다임을 중재해야 한다. 개발자는 자바 애플리케이션의 객체와 관계형 데이터베이스의 테이블을 SQL과 JDBC API로 상호 변환한다. 서로 다른 패러다임의 두 시스템을 중개하는 일은 쉽지 않으며 반복적인 작업이 필요하다.

`JPA(Java Persistence API)`는 개발자의 반복적인 작업을 덜어주고 나아가 패러다임 불일치 문제까지 해결한다. JPA는 자바 ORM 진영의 표준이다. ORM(Object-Relational Mappging)은 객체와 테이블을 매핑하는 작업이다. JPA는 표준이므로, 이를 구현한 ORM 프레임워크를 실질적으로 사용한다. 하이버네이트는 대표적인 ORM 프레임워크이다.

<small style="color: grey;">JPA와 패러다임 불일치</small>

JPA는 객체 지향 모델링과 관계형 데이터베이스의 패러다임 불일치 문제를 해결한다. 두 시스템의 패러다임이 일치하지 않은 부분으로는 상속, 연관 관계, 객체 그래프 탐색, 비교가 있다.

1. 상속  
객체는 상속이 있다. 객체의 상속을 표현하기 위해 관계형 데이터베이스에는 슈퍼 타입과 서브 타입을 활용한다. JPA는 상속 관계 객체의 CRUD 작업이 발생하면 슈퍼 타입과 서브 타입에 맞게 쿼리(들)을 실행한다.

2. 연관관계  
객체는 참조를 통해 단방향으로 다른 객체와 관계를 맺는다. 관계형 데이터베이스에서 테이블은 외래 키와 조인 쿼리를 사용해서 양방향으로 다른 테이블과 관계를 맺는다. JPA는 연관관계에 있는 객체를 참조할 때, 외래 키와 조인을 사용해서 쿼리를 실행한다.

3. 객체 그래프 탐색  
객체는 연쇄적인 참조를 통해 다수의 객체를 탐색할 수 있다. JPA는 지연 로딩과 즉시 로딩을 통해 이를 효율적으로 지원한다.

4. 비교  
객체는 인스턴스의 주소를 비교하는 동일성(Identity) 비교와 인스턴스 내부의 값을 비교하는 동등성(Equality) 비교를 구분한다. 관계형 데이터베이스는 기본 키가 같으면 같은 레코드로 간주한다. JPA는 기본 키에 해당하는 객체의 필드가 동일하면 동등성과 동일성 모두 만족하도록 처리한다.

<small style="color: grey;">JPA 장점</small>

JPA의 장점은 다음과 같다.

1. JPA는 반복적인 CRUD SQL 작업을 대신해서 개발자의 생산성을 높인다.
2. JPA를 사용하면 요구 사항이 변경되었을 때 이를 유연하게 처리할 수 있다
3. JPA는 객체 지향 모델링과 관계형 데이터베이스 사이의 패러다임 불일치 문제를 해결한다
4. JPA는 내부적으로 효율적인 쿼리 실행을 위한 로직을 구현한다.
5. JPA는 특정 데이터베이스에 종속되지 않는다.
6. JPA는 자바 진영 ORM의 표준이다. 따라서 다른 ORM 프레임워크로의 변경이 쉽다.