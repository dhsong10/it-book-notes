## 05 연관관계 매핑 기초

### 테이블과 객체의 연관관계

**테이블**은 **외래 키** 사용해서 **양항방**으로 연관관계를 맺는다. 이를 **조인**이라고 부른다.

**객체(엔티티)**는 **참조**를 통해 **단방향**으로 연관관계를 맺는다. 참조를 통해 다른 객체를 탐색하는 것을 **객체 그래프 탐색**이라고 부른다.

### 객체 양방향 연관관계 매핑 - 연관관계의 주인

객체는 참조를 통해 단방향으로 연관관계를 맺는다. 반면에 테이블을 외래 키 하나로 양방향 연관관계를 맺는다. 따라서 객체가 테이블처럼 양방향 연관관계를 맺기 위해서는 두 개의 단방향 연관관계를 생성해야 한다.

두 개의 단방향 연관관계를 생성하면 객체의 참조가 두 방향으로 이루어질 수 있다. 하지만 외래 키는 하나이다. 이 불균형을 해소하기 위해서 연관관계의 주인을 결정한다.

연관관계의 주인이란 외래 키를 관리하는 엔티티이다. 연관관계의 주인으로 설정된 엔티티만이 외래 키를 관리(등록, 수정, 삭제)할 수 있다. 두 객체 참조 중 연관관계의 주인이 아닌 곳에서부터 시작하는 참조는 외래 키를 관리를 할 수 없다.

일반적으로 연관관계의 주인은 일대다(혹은 다대일)의 연관관계 중 다에 속하는 엔티티이다. 다에 해당하는 테이블에서 외래 키가 만들어지기 때문이다.